name: CI

on:
  repository_dispatch:
  workflow_dispatch:
    inputs:
      path:
        description: '下载'
        required: true
        default: 'you-got'
        
jobs:
  build:

    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: actions/setup-python@v1
      with:
        python-version: '3.10.14' # Version range or exact version of a Python version to use, using SemVer's version range syntax
        architecture: 'x64' # optional x64 or x86. Defaults to x64 if not specified
      
    - run:  |
        pip install you-get
        mkdir tmp
        cd tmp
        you-get https://www.youtube.com/watch?v=Xk0Jc1rXf78
        cd ..
        ls -al ./tmp
        ls -al
        mv ./tmp/* ./tmp/1.mp4
        ls -al ./tmp
        
        

    - name: Upload release asset
      run: |
         pwd
        
    - uses: svenstaro/upload-release-action@v2
      with:
          repo_token: ${{ secrets.PTAKEN }}
          file: ./tmp/1.mp4
    
 
